<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<h:form>
		<h:panelGroup layout="block" id="pt_pgl1" rendered="#{userSession.userId ne null}">
			<p:menubar styleClass="mainNav">
				<p:submenu label="#{tk.menu_expense_entry}" icon="ui-icon-home">
            		<p:menuitem value="#{tk.menu_expense_entry_my_entry}" action="/pages/private/myexpenseentry.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessMyExpenseEntry}"/>
            		<p:separator/>
            		<p:menuitem value="#{tk.menu_expense_entry_my_view}" action="/pages/private/myexpenseview.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessMyExpenseView}"/>
            		<p:separator/>
            		<p:menuitem value="#{tk.menu_expense_entry_my_action}" action="/pages/private/myexpenseaction.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessMyAction}"/>
        		</p:submenu>
        		<p:submenu label="#{tk.menu_balance}" icon="ui-icon-document">
        			<p:menuitem value="#{tk.menu_balance_history}" action="/pages/private/balanceHistory.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessBalanceHistory}"/>
        			<p:separator/>
        			<p:menuitem value="#{tk.menu_payment_request_my_view}" action="/pages/private/mypaymentview.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessMyPayment}"/>
            		<p:separator/>
            		<p:menuitem value="#{tk.menu_payment_request_advanced}" action="/pages/private/requestadvancepayment.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessRequestAdvancePayment}"/>
        		</p:submenu>
        		<p:submenu label="#{tk.menu_payments}" icon="ui-icon-locked" rendered="#{userSession.admin}">
        			<p:menuitem value="#{tk.menu_administration_see_balance}" action="/pages/private/managebalancepayment.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessSeeBalance}"/>
        			<p:separator/>
        			<p:menuitem value="#{tk.menu_payment_request_my_action}" action="/pages/private/mypaymentaction.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessMyPaymentAction}"/>
        			<p:separator/>
        			<p:menuitem value="#{tk.menu_administration_manage_accepted_payment}" action="/pages/private/manageedipayment.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessManageAcceptedPayment}"/>
        			<p:separator/>
        			<p:menuitem value="#{tk.menu_administration_manage_planned_payment}" action="/pages/private/manageplannedpayment.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessManageAcceptedPlannedPayment}"/>
        		</p:submenu>
        		<p:submenu label="#{tk.menu_administration}" icon="ui-icon-locked" rendered="#{userSession.admin}">
        			<p:menuitem value="#{tk.menu_administration_manage_accounting}" action="/pages/private/manageexpenseentryaccounting.xhtml?faces-redirect=true" ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessManageAccounting}"/>
        			<p:separator/>
            		<p:menuitem value="#{tk.menu_administration_view_edi}" action="/pages/private/viewedi.xhtml?faces-redirect=true"  ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessViewEDI}"/>
        			<p:separator/>
            		<p:menuitem value="#{tk.menu_administration_manage_type}" action="/pages/private/expensetype.xhtml?faces-redirect=true"  ajax="false" immediate="true" validateClient="false" rendered="#{userSession.canAccessManageType}"/>
        		</p:submenu>
				
				<f:facet name="options">
					<h:outputText value="#{tk.menu_balance}"/>
					<h:outputText id="menuBalance" value="#{balance.currentBalance}">
						<f:convertNumber pattern="#,##0.00" locale="#{localeBean.localeCode}"/>
					</h:outputText>
					<pe:tooltip for="menuBalance" value="#{tk.menu_balance_tooltip}"  mouseTracking="true" myPosition="top left" adjustX="10" adjustY="10"/> 
					<h:outputText escape="false" value=" #{tk.menu_currency_symbol} "/>
				</f:facet>
			</p:menubar>
		</h:panelGroup>
	</h:form>
</ui:composition>
